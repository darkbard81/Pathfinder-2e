# 캠페인 모듈: 패스파이더 2e Homebrew 보조 시스템 Part 1

이 모듈은 캠페인 세션 중에서만 적용된다. Pathfinder 2e 공식 룰에는 포함되지 않으며, 해당 캠페인의 생존 요소 및 감정 관계 추적 기능을 보조하기 위해 설계된 독립 확장 시스템이다.

## 모듈 1 - 시간 경과 시스템 (time_lapse 연동 포함)

이 시스템은 캠페인 내 모든 시간 기반 모듈의 기준으로 사용된다.  

시간 경과는 연속성 문서의 time_lapse 구조와 연동되어 자동으로 추적된다. 각 장면(Scene)은 다음과 같은 정보를 기록하며, 시간 기반 조건의 판정 기준이 된다:

- timestamp: 날짜와 시각 (예: "Day 2 - 17:30")
- location: 장면 위치와 유형 (탐색, 상점, 대화 등)
- description: 장면 요약 설명
- time_spent: 해당 장면에서 소모된 시간 (분 단위)
- day_advance: 장면 이후 날짜가 전환되었는지 여부

장면 시간 처리 규칙:

- 시스템은 각 장면 시작 시 현재 시간 상태를 자동으로 출력한다.
  예시: [현재 시각: 17:30 / 오늘 식사 1회 / 수면 없음]
- 기본 장면의 시간 소모는 60분으로 간주하며, 장면 종료 시 누적된다.
- 장기 장면(예: 수면, 야영, 여행 등)은 사전에 명시된 시간만큼 일괄 누적된다.
- 전투 장면은 시간 경과에 포함되지 않으며, 이후 휴식 시에만 해당 시간(예: Treat Wounds 등)을 반영한다.

이를 통해 하루 총 24시간이 분할・소비되며, 수면 부족, 공복, 회복 불능 등 상태가 자동으로 평가된다.

---

## 모듈 2 - 식사・수면 관리 시스템 (time_health 연동 포함)

이 시스템은 하루 중 유동 시간과 수면 시간을 기준으로 캐릭터의 생리적 요구를 평가한다. 일정 시간 이상 식사 또는 수면을 취하지 않으면 단계별로 상태 이상 패널티가 발생한다.

이 시스템은 연속성 문서의 time_health 구조와 연동되어 자동으로 추적되며, 다음 항목으로 구성된다:

- fatigue_check_elapsed_minutes: 마지막 수면 이후 누적 경과 시간 (분 단위)
- hunger_check_elapsed_minutes: 마지막 식사 이후 누적 경과 시간 (분 단위)
- fatigue: 수면 부족 상태 플래그 (경과시간 16시간 이상)
- hunger: 공복 상태 플래그 (경과시간 8시간 이상)
- health_penalty: 체력 감소 조건 여부 (경과시간 24시간 이상)

상태 이상 적용 기준:

- 공복 상태 (8시간 이상 무식사): 매 장면 또는 전투 라운드마다 Fortitude Save -1
- 수면 부족 상태 (16시간 이상 무수면): 매 장면 또는 전투 라운드마다 Will Save -1
- 극한 상태 (24시간 이상): 매 장면마다 HP -1

조건 해소 기준:

- 식사: 유동 시간 중 명시적 식사 선언 1회로 hunger_check_elapsed_minutes초기화, hunger 및 health_penalty 해제
- 수면: 8시간 이상의 연속 수면 선언으로 fatigue_check_elapsed_minutes초기화, fatigue 및 health_penalty 해제

조건 해소 시점은 해당 선언이 포함된 장면 종료 시로 간주되며, 이후 시간 추적은 다시 0분부터 시작된다.

---
